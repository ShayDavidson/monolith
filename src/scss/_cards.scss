$card-aspect-ratio: 0.706;

.pile {
  margin-bottom: $global-padding;
  &:last-child { margin-bottom: 0; }

  display: flex;
  position: relative;
  @include flex(1);
  @include box-sizing(border-box);

  .left & { direction: ltr; }
  .right & { direction: rtl; }
}

.card {
  $border-radius: 6%;

  cursor: pointer;
  z-index: 1000;
  width: auto; // determined by code.
  height: 100%;
  position: absolute;

  &:not(.faceUp) {
    .runner & {
      background-image: url('/images/cards/runner-back.jpg')
    }
    .corp & {
      background-image: url('/images/cards/corp-back.jpg')
    }
  }

  background-size: cover;

  @include user-select(none);
  @include border-radius($border-radius);
  @include box-shadow(0.5px 0.5px 1px 1px rgba(0, 0, 0, 0.25));

  &.loading:before {
    content: '';
    background: url('/images/cards/spinner.png') no-repeat center;
    position: absolute;
    width: 100%;
    height: 100%;
    @include animation(spin 1s infinite linear);
  }
}

.zoomed-card-container {
  $zoomed-card-height: 440px;
  $zoomed-card-width: $zoomed-card-height * $card-aspect-ratio;
  position: absolute;
  top: 50%;
  left: 50%;
  margin-top: -$zoomed-card-height/2;
  margin-left: -$zoomed-card-width/2;
  height: $zoomed-card-height;

  .card {
    opacity: 1;
    @include transition(opacity 0.25s ease-out);
    @include box-shadow(0px 0px 300px 30px rgba(0, 0, 0, 0.9));

    height: $zoomed-card-height;
    width: $zoomed-card-width;

    &.hidden {
      opacity: 0;
    }
  }
}